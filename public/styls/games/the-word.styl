/* The Word Game - Stylus */
empty = #a4c9d9 
correct = #80ef80 
present = #e4ca99 
incorrect = #dc7684 

// Alpha versions
empty-alpha = rgba(164, 201, 217, 0.4)
correct-alpha = rgba(128, 239, 128, 0.4)
present-alpha = rgba(228, 202, 153, 0.4)
incorrect-alpha = rgba(220, 118, 132, 0.4)

// Darker versions for backgrounds
empty-dark = darken(empty, 20%)
correct-dark = darken(correct, 20%)
present-dark = darken(present, 20%)
incorrect-dark = darken(incorrect, 20%)

// Lighter versions for text/hover
empty-light = lighten(empty, 20%)
correct-light = lighten(correct, 20%)
present-light = lighten(present, 20%)
incorrect-light = lighten(incorrect, 20%)

.game-wrap
    max-width: 400px
    margin: 1rem auto
    border: 2px solid empty-alpha
    min-height: 750px
    position: relative
    background: empty-alpha
    padding-top: 1.2rem
    width: 100%

    h1 
        text-align: center
        line-height: 1
        margin-bottom: 0.5rem
    
    p.attempts 
        text-align: center
        margin-bottom: 1rem  
        font-size: 1rem
        font-weight: bold
    
    .message
        text-align: center
        min-height: 1.5rem
        font-weight: bold
        margin-bottom: 0.5rem
        color: incorrect

.word-grid
    background: empty-dark
    display: flex
    flex-direction: column
    gap: 0.5rem
    width: 100%
    height: fit-content
    padding: 0.5rem
    box-sizing: border-box

.tile-row
    display: flex
    gap: 0.5rem
    width: 100%
    position: relative

.tile
    background: empty
    height: auto
    aspect-ratio: 1 / 1
    display: flex
    flex: 1
    justify-content: center
    align-items: center
    font-size: 1.8rem
    font-weight: bold
    text-transform: uppercase
    border: 2px solid empty-alpha
    border-radius: 4px
    transition: all 0.3s ease

    &.filled
        animation: pop 0.1s ease
    
    &.correct
        background: correct
        border-color: correct
    
    &.present
        background: present
        border-color: present
    
    &.incorrect
        background: incorrect
        border-color: incorrect
    
    &.shake
        animation: shake 0.5s ease

@keyframes pop
    0% 
        transform: scale(1)
    50% 
        transform: scale(1.1)
    100% 
        transform: scale(1)

@keyframes shake
    0%, 100% 
        transform: translateX(0)
    10%, 30%, 50%, 70%, 90% 
        transform: translateX(-5px)
    20%, 40%, 60%, 80% 
        transform: translateX(5px)

.keyboard
    display: flex
    flex-direction: column
    gap: 0.5rem
    padding: 1rem 0.5rem
    background: empty-dark
    width: 100%
    box-sizing: border-box

    .key-row
        display: flex
        gap: 0.2rem
        width: 100%
        position: relative
        justify-content: center

        .key
            background: darken(empty, 40%)
            border-radius: 4px
            flex: 1
            height: 50px
            display: flex
            justify-content: center
            align-items: center
            font-size: 1.1rem
            font-weight: bold
            text-transform: uppercase
            cursor: pointer
            user-select: none
            color: #fff
            transition: all 0.2s ease
            min-width: 0

            &:hover
                opacity: 0.9
            
            &:active
                transform: scale(0.95)
            
            &.correct
                background: correct
            
            &.present
                background: present
            
            &.incorrect
                background: incorrect
            
            &.enter
                background: darken(correct, 60%)
                flex: 1.5
                text-transform: none
                font-size: 1.3rem
            
            &.backspace
                background: darken(incorrect, 60%)
                flex: 1.5
                text-transform: none
                font-size: 1.3rem
    
    .enter-backspace-row
        gap: 0.1rem
        
        .key
            min-height: 50px
            font-size: 1rem
            
            &:not(.enter):not(.backspace)
                flex: 1
                font-size: 1rem
            
            &.enter, &.backspace
                flex: 1.2
                font-size: 1.3rem

/* Floating animation for letters */
@keyframes floatUp
    0%
        transform: translateY(0) scale(1)
        opacity: 1
    100%
        transform: translateY(-100px) scale(0.8)
        opacity: 0

.floating-letter
    position: fixed
    pointer-events: none
    z-index: 1000
    font-size: 1.5rem
    font-weight: bold
    color: #333
    animation: floatUp 0.8s ease-out forwards

/* Responsive adjustments */
@media (max-width: 400px)
    .game-wrap
        margin: 0.5rem auto
        min-height: 700px
    
    .tile
        font-size: 1.5rem
    
    .keyboard
        .key-row
            .key
                height: 45px
                font-size: 0.9rem
            
                &.enter, &.backspace
                    font-size: 1.1rem
        
        .enter-backspace-row
            .key
                height: 45px
                font-size: 0.9rem
                
                &.enter, &.backspace
                    font-size: 1.1rem